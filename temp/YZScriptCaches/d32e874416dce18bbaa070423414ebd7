define("zenjs/util/event",["require","jquery"],function(t){var e=t("jquery"),i={getTargetByDataKey:function(t,i){for(var s=e(t.target);!s.data(i)&&0!==s.data(i)&&"BODY"!=(s[0]||{}).nodeName;)s=s.parent();return s},getEventHandler:function(){var t=function(){};return e.extend(!0,t.prototype,i.methods),new t},methods:{events:{},on:function(t,e){return"string"==typeof t&&"[object Function]"===Object.prototype.toString.call(e)&&(this.events[t]||(this.events[t]=[]),this.events[t].push(e))},trigger:function(t){if("string"!=typeof t)return!1;if(!this.events[t])return this.events[t]=[],!1;for(var e=this.events[t],i=Array.prototype.slice.apply(arguments,[1]),s=0,n=e.length;s<n;s++)e[s](i)},off:function(t,e){if(!t&&!e)return void(this.events={});if(!e)return void(this.events[t]=[]);var i=this.events[t],s=i.indexOf(e);i.splice(s,1)}}};return i}),define("zenjs/backbone/tabber",["require","../util/event","backbone"],function(t){var e=t("../util/event"),i=t("backbone"),s=function(){};return i.View.extend({initialize:function(t){this.activeKey=t.activeKey||"type",this.activeClass=t.activeClass||"active",this.hashAsDefaultData=!!t.hashAsDefaultData,this.cbOnClicked=t.onClicked||s,this.cbOnDisabledClicked=t.onDisabledClicked||s,this.initDefault(t)},events:{click:"onClicked"},initDefault:function(t){var e=i.history.getHash();t.hashAsDefaultData&&e?this.active(e):t.defaultData&&t.defaultData.length>0&&this.active(t.defaultData)},onClicked:function(t){if(t.target&&0!==t.target.length){var i=e.getTargetByDataKey(t,this.activeKey),s=""+i.data(this.activeKey);if(void 0===this.firstClick?this.firstClick=!0:this.firstClick=!1,i.blur(),s&&"undefined"!==s&&this.activeData!==s&&s&&s.length>0){if(this.disabled===!0)return void(this.activeData!==s&&this.cbOnDisabledClicked());if(this.hashAsDefaultData){var n=location.href.replace(/(javascript:|#).*$/,"");location.replace(n+"#"+s)}this.$("."+this.activeClass).removeClass(this.activeClass),i.addClass(this.activeClass),this.activeData=s,this.cbOnClicked(_.extend(t||{},{value:s,nTarget:i}))}}},active:function(t,e){this.onClicked(_.extend({target:this.$el.find("[data-"+this.activeKey+'="'+t+'"]:first')},e||{}))},setDisable:function(t){this.disabled=t},setData:function(t){this.activeData=t,this.$("."+this.activeClass).removeClass(this.activeClass),this.$el.find("[data-"+this.activeKey+'="'+this.activeData+'"]:first').addClass(this.activeClass)},getData:function(){return this.activeData}})}),define("bower_components/waterfall/pager",["require","zenjs/events"],function(t){var e=t("zenjs/events"),i=function(){};return e.extend({init:function(t){this.$el||(this.$el=$(t.el||t.$el||"<div></div>"),this.el=this.$el[0]),this.nLoading=t.loadingHTML?$(t.loadingHTML).addClass("loading-more"):$('<div class="loading-more"><span></span></div>'),this.nList=this.$el.find(".js-list"),0===this.nList.length&&(this.nList=$('<div class="js-list b-list"></div>'),this.$el.append(this.nList)),"number"==typeof t.total&&(this.total=t.total),this.offset=t.offset||300,this.scrollDirection="down",this.pageIndex=t.pageIndex||0,this.perPage=t.perPage||10,this.postData=t.postData||{},this.checkSize=!0,"boolean"==typeof t.checkSize&&(this.checkSize=t.checkSize),this.idName=t.idName||"id",t.idValue&&(this.idValue=t.idValue),this.jsonKeys=t.jsonKeys||{},this.finishedHTML=t.finishedHTML,this.finishedText=t.finishedText,this.emptyHTML=t.emptyHTML||"",this.emptyText=t.emptyText||"",this.getExtrPostData=t.getExtrPostData||i,this.onFetchError=t.onFetchError||i,this.onListEmpty=this.onListEmpty||t.onEmpty||this._onListEmpty,this.on("finished",t.onFinished||i),this.on("after:list:load",t.onAfterListLoad||t.onDataLoad||i),this.extraData={},this.scrollContainer=t.scrollContainer?$(t.scrollContainer):$("body"),this.scrollEventAccepter=t.scrollEventAccepter?$(t.scrollEventAccepter):$(t.scrollContainer||window),this._onScroll=$.proxy(this.onScroll,this),this.bindScrollFunc()},$:function(t){return this.$el.find(t)},onScroll:function(){function t(){var t=this.nList.offset(),e=this.scrollContainer.offset();return{left:t.left-e.left||0,top:t.top-e.top||0}}return function(){if(!(this.sleeping||this.finished||this.fetching)){if(0===this.total||this.total&&this.total<=this.pageIndex*this.perPage)return void this.doFinishLoading();var e=t.call(this);"down"===this.scrollDirection&&this.nList.height()+e.top-this.scrollEventAccepter.height()-this.scrollContainer.scrollTop()<this.offset&&this.fetchMore&&this.fetchMore(),"up"===this.scrollDirection&&this.scrollContainer.scrollTop()<this.offset&&this.fetchMore&&this.fetchMore()}}}(),fetchMore:function(){return this.sleeping||this.finished||this.fetching?this:(this.showLoading(),this.fetching=!0,this._fetchMore&&this._fetchMore.call(this),this)},onFetchMoreSuccess:function(){this.hideLoading(),this.fetching=!1,this._onFetchMoreSuccess.apply(this,arguments)},fetchRender:function(){return this.fetchMore(),this},_onFetchMoreError:function(){this.fetching=!1,this.hideLoading(),this.onFetchError()},doFinishLoading:function(t){this.finished=!0,this.fetching=!1,this.hideLoading(),this.$el.find(".list-finished").remove(),this.triggerMethod&&this.triggerMethod("finished",this.collection,t)},bindScrollFunc:function(){var t=this;this.scrollFunc&&this.unbindScrollFunc(),this.scrollFunc=function(){t.scrollTimeout&&clearTimeout(t.scrollTimeout),t.scrollTimeout=setTimeout(t._onScroll,200)},this.scrollEventAccepter.on("scroll",this.scrollFunc)},unbindScrollFunc:function(){this.scrollEventAccepter.off("scroll",this.scrollFunc),this.scrollFunc=null},doSleep:function(){this.sleeping=!0,this.unbindScrollFunc()},doWake:function(){this.sleeping=!1,this.bindScrollFunc(),this.fetchMore()},showLoading:function(){this.hasFetching=!0,this.$el.append(this.nLoading)},hideLoading:function(){this.nLoading.remove()},getFinishHtml:function(){return this.finishedHTML?$(this.finishedHTML).addClass("list-finished"):'<div class="list-finished">'+(this.finishedText||"已经没有更多了")+"</div>"},setExtraData:function(t){$.extend(this.extraData,t)},resetWaterfall:function(t){this.finished===!0&&this.$(".list-finished").remove(),this.removeAll&&this.removeAll(),this.nList.empty(),this.collection&&this.collection.reset([],{silent:!0}),this.listEl&&this.listEl.empty(),this.finished=!1,t&&t.pageIndex?this.pageIndex=t.pageIndex:this.pageIndex=0,this.idValue=void 0},_onListEmpty:function(){if(!this.fetching){var t;this.emptyHTML?t=$(this.emptyHTML).addClass("list-finished"):this.emptyText&&(t='<div class="list-finished">'+this.emptyText+"</div>"),this.$el.append(t)}},destroy:function(){this.doSleep(),this.$el.remove(),this.unbindScrollFunc()},remove:function(){this.destroy()}})}),define("zenjs/backbone/base_view",["require","backbone","../core/trigger_method"],function(t){var e=t("backbone"),i=t("../core/trigger_method");return e.View.extend({clean:function(){return this.stopListening(),this},triggerMethod:i})}),define("bower_components/zenlist/list",["require","exports","module","zenjs/backbone/base_view"],function(t,e,i){var s=function(){},n=t("zenjs/backbone/base_view");i.exports=n.extend({initialize:function(t){return this.options=t=t||{},this.items=[],this.itemView=t.itemView,this.itemOptions=t.itemOptions||{},this.collection=t.collection,this.onAfterListChange=t.onAfterListChange||s,this.onAfterListLoad=t.onAfterListLoad||s,this.onAfterListDisplay=t.onAfterListDisplay||s,this.onListEmpty=t.onListEmpty||t.onEmptyList||this._onListEmpty,this.onItemClick=t.onItemClick||s,this.onViewItemAdded=t.onViewItemAdded||s,this.displaySize=t.displaySize||-1,this.emptyHTML=t.emptyHTML||"",this.emptyText=t.emptyText||"列表为空",this},render:function(t){return this.displaySize=(t||{}).displaySize==-1?-1:this.displaySize,this.clean(),this._setupListeners(),this.addAll(),this.onAfterListDisplay({list:this.collection}),this},fetchRender:function(t){return this.collection.fetch({data:t,success:_(function(t,e){this.render(),this.onAfterListLoad(this.collection,e),this.onFetchSuccess&&this.onFetchSuccess()}).bind(this),error:_.bind(function(){this.onAfterListLoad(this.collection,response)},this)}),this},_setupListeners:function(){this.collection&&(this.stopListening(this.collection),this.listenTo(this.collection,"add",this.addItem,this),this.listenTo(this.collection,"reset sort",this.render,this),this.listenTo(this.collection,"remove",this.onItemRemoved,this))},addItemListeners:function(t){var e=this;this.listenTo(t,"all",function(){var e="item:"+arguments[0],i=_.toArray(arguments);i.splice(0,1),i.unshift(e,t),this.trigger.apply(this,i),"item:click"==e&&this.onItemClick()}),this.listenTo(t.model,"change",function(){e.onAfterListChange({list:this.collection})})},addAll:function(){0===this.collection.length?this.fetching||this.triggerMethod("list:empty"):this.collection.each(function(t){this.addItem(t)},this)},removeAll:function(){for(var t=this.items.length-1;t>=0;t--)this.removeView(this.items[t]);this.onAfterListChange({list:this.collection})},addItem:function(t,e,i){if(!(this.displaySize>=0&&this.items.length>=this.displaySize)){1==this.collection.length&&(this.listEl||this.$el).html("");var s=new this.itemView(_.extend({},this.options.itemOptions,{model:t,index:this.collection.indexOf(t)}));this.items.push(s),this.addItemListeners(s),s.render(),this.onViewItemAdded({list:this.items,viewItem:s,model:t});return 0===(i||{}).at?(this.listEl||this.$el).prepend(s.el):(this.listEl||this.$el).append(s.el),s}},removeItem:function(t){var e=this.getViewByModel(t);e&&this.removeView(e)},removeView:function(t){var e;this.stopListening(t),t&&(this.stopListening(t.model),t.remove(),e=this.items.indexOf(t),this.items.splice(e,1)),0===this.collection.length&&(this.fetching||this.triggerMethod("list:empty"))},onItemRemoved:function(t){this.onAfterListChange({list:this.collection,action:"remove",model:t}),this.removeItem(t)},getViewByModel:function(t){return _.find(this.items,function(e,i){return e.model===t})},dispatchEventToAllViews:function(t,e){for(var i=this.items.length-1;i>=0;i--)this.items[i].trigger(t,e)},remove:function(){n.prototype.remove.call(this,arguments),this.removeAll(),this.collection.reset(),delete this.collection},clean:function(){n.prototype.clean.call(this,arguments),this.removeAll(),(this.listEl||this.$el).html(""),this.stopListening(this.collection)},_onListEmpty:function(){this.$el.html(this.emptyHTML||(this.emptyText?'<p style="text-align:center;line-height:60px;">'+this.emptyText+"</p>":""))}})}),define("bower_components/waterfall/waterfall",["require","./pager","bower_components/zenlist/list"],function(t){var e=t("./pager"),i=t("bower_components/zenlist/list"),s=function(){};return e.extend({init:function(t){this._super(t),this.collection=t.collection,this.listEl=this.getListViewEl(),this.list=new i($.extend({},t,{el:this.listEl,collection:this.collection,onListEmpty:s})).render(),this.on("finished",this._doFinishLoading)},getListViewEl:function(){return this.nList},_fetchMore:function(){var t={};this.idValue&&(t[this.idName]=this.idValue),t[this.jsonKeys.perPage||"perpage"]=this.perPage,t[this.jsonKeys.pageIndex||"page"]=this.pageIndex+1;var e=this.getExtrPostData?this.getExtrPostData():{};this.collection.fetch({data:$.extend(t,this.postData,e,this.extraData),success:$.proxy(this.onFetchMoreSuccess,this),error:$.proxy(this.onFetchError,this),update:!0,remove:!1})},_onFetchMoreSuccess:function(t,e){this.pageIndex++,this.triggerMethod("after:list:load",{collection:t,response:e});var i=this.collection.parse(e);if(0===i.length||this.checkSize&&i.length<this.perPage)return void this.doFinishLoading();var s=_.last(this.collection.models);s&&(this.idValue=s.get(this.idName)),this.onScroll()},_onAfterListLoad:function(){var t=_.last(this.collection.models);t&&(this.idValue=t.get(this.idName))},_doFinishLoading:function(){if(this.collection.length>0){if(this.hasFetching&&this.pageIndex>1){var t=this.getFinishHtml();this.$el.append(t)}}else this.triggerMethod("list:empty")},addTopItem:function(t){this.collection.unshift(t)},addBottomItem:function(t){this.finished===!0&&this.$(".list-finished").remove(),this.collection.add(t)}})}),define("wap/fuwu/homepage/fuwu_list/models/model",["require","exports","module"],function(t,e,i){var s=Backbone.Model.extend({idAttribute:"id",defaults:function(){return{}},initialize:function(t){this.options=t||{}}});i.exports=s}),define("wap/fuwu/homepage/fuwu_list/collections/list",["require","exports","module","../models/model"],function(t,e,i){var s=t("../models/model");i.exports=Backbone.Collection.extend({model:s,initialize:function(t,e){},url:"/v2/fuwu/provider/"+_global.provider_id+"/services.json",parse:function(t){return t.data&&t.data.list||[]}})}),define("text!wap/fuwu/homepage/fuwu_list/templates/item.html",[],function(){return'<a href="<%= url %>">\n    <h3 class="ellipsis title name-card-row">\n        <%= title %>\n        <div class="price pull-right" style="color:#f60">¥ <%= price %></div>\n    </h3>\n    <div style="font-size: 12px;line-height:1.4em;margin-top:10px;color:#666;"><%= intro %></div>\n</a>\n'}),define("wap/fuwu/homepage/fuwu_list/views/item",["require","exports","module","text!wap/fuwu/homepage/fuwu_list/templates/item.html"],function(t,e,i){var s=t("text!wap/fuwu/homepage/fuwu_list/templates/item.html"),n=Backbone.View.extend({className:"block-item name-card",template:_.template(s),events:{},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.$el.css({padding:"10px 10px 10px 0"}),this}});i.exports=n}),window.Utils=window.Utils||{},$.extend(window.Utils,{getCdnImageUrl:function(t,e){if(!t)return window._global.url.cdn_static+"/image/wap/no_pic.png";if(e=t.match(/.+\!\d+x\d+.+/)?"":e&&e.length>0?e:"!100x100.jpg",t.match(/^(https?:)?\/\//i)){for(var i=[/^(https?:)?\/\/imgqn.koudaitong.com/,/^(https?:)?\/\/kdt-img.koudaitong.com/,/^(https?:)?\/\/img.yzcdn.cn/,/^(https?:)?\/\/dn-kdt-img.qbox.me/],s=0;s<i.length;s++)t=t.replace(i[s],window._global.url.imgqn);return t+e}return window._global.url.imgqn+"/"+t+e}}),define("wap/components/util/kdt",function(){}),define("wap/fuwu/homepage/fuwu_list/fuwu_list",["require","bower_components/waterfall/waterfall","wap/fuwu/homepage/fuwu_list/collections/list","wap/fuwu/homepage/fuwu_list/views/item","wap/components/util/kdt"],function(t){var e=t("bower_components/waterfall/waterfall"),i=t("wap/fuwu/homepage/fuwu_list/collections/list"),s=t("wap/fuwu/homepage/fuwu_list/views/item");return t("wap/components/util/kdt"),function(){new e({el:$(".js-fuwu-list-box"),itemView:s,collection:new i,finishedText:"没有更多服务了...",emptyText:"暂时还没有服务",checkSize:!1}).fetchRender()}}),define("wap/fuwu/homepage/case_list/models/model",[],function(){return Backbone.Model.extend({idAttribute:"id",defaults:function(){return{}},initialize:function(t){this.options=t||{}}})}),define("wap/fuwu/homepage/case_list/collections/list",["../models/model"],function(t){return Backbone.Collection.extend({model:t,url:"/v2/fuwu/provider/case.json?pid="+_global.provider_id,parse:function(t){return t.data&&t.data.list||[]}})}),define("text!wap/fuwu/homepage/case_list/templates/item.html",[],function(){return'<a class="case clearfix" href="<%= url %>">\n    <img class="case__logo" src="<%= logo %>" width="58" height="58"/>\n    <span class="case__info">\n        <span class="title"><%= title %></span>\n        <span class="content"><%= content %></span>\n    </span>\n</a>\n'}),define("wap/fuwu/homepage/case_list/views/item",["text!wap/fuwu/homepage/case_list/templates/item.html"],function(t){return Backbone.View.extend({className:"block-item name-card",template:_.template(t),events:{},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.$el.css({padding:"10px 10px 10px 0"}),this}})}),define("wap/fuwu/homepage/case_list/index",["bower_components/waterfall/waterfall","wap/fuwu/homepage/case_list/collections/list","wap/fuwu/homepage/case_list/views/item"],function(t,e,i){return function(){new t({el:$(".js-case-list-box"),itemView:i,collection:new e,finishedText:"没有更多了...",emptyText:"暂时还没有客户",checkSize:!1}).fetchRender()}}),require(["bower_components/youzanjsbridge/api","zenjs/backbone/tabber","wap/fuwu/homepage/fuwu_list/fuwu_list","wap/fuwu/homepage/case_list/index"],function(t,e,i,s){function n(t){if(o.indexOf(t)==-1)switch(o.push(t),t){case"fuwu":new i;break;case"case":new s}}var o=[];new e({el:$(".js-type-tabber"),defaultData:function(){var t=location.hash.split("#")[1];return/^(homepage|case|fuwu)$/g.test(t)?t:"homepage"}(),hashAsDefaultData:!0,onClicked:function(t){var e=t.value;$(".js-area").each(function(){var t=$(this),i=t.data("area-type")==e;t.toggle(i),i&&n(e)})}});t.configNative({configs:[{type:"nav_item_right",title:"推广",action:"page_share"}]})}),define("main",function(){});