define("wap/components/app_h5/main",["require","exports","module"],function(o,e,a){a.exports={currentUrl:"",currentTime:Date.now(),doCall:function(o,e){window.onReady("YouzanJSBridge",function(){window.YouzanJSBridge.doCall(o,e)})},compareVersion:function(o,e){for(o=o.split(".").join(""),e=e.split(".").join("");o.length!==e.length;)o.length>e.length?e+="0":o+="0";return o=Number(o),e=Number(e),o>e?"gt":o===e?"eq":"lt"},eq:function(o,e){return"eq"===this.compareVersion(o,e)},gte:function(o,e){var a=this.compareVersion(o,e);return"eq"===a||"gt"===a},lte:function(o,e){var a=this.compareVersion(o,e);return"eq"===a||"lt"===a},configNative:function(o){this.doCall("configNative",o)},getData:function(o,e){e.datatype=o,this.doCall("getData",e)},putData:function(o,e){if("youzanwxd"===_global.platform)if(this.gte(_global.platform_version,"1.5.0"))e.datatype=o,this.doCall("putData",e);else switch(o){case"supplierInfo":this.doCall("tellSupplierInfo",{supplier_kdt_id:e.supplier_kdt_id});break;case"goodsInfo":this.doCall("tellGoodsInfo",{goods_id:e.goods_id})}else e.datatype=o,this.doCall("putData",e)},gotoWebview:function(o){if(this.currentUrl===o.url&&Date.now()-this.currentTime<100)this.currentTime=Date.now();else if(this.currentUrl=o.url,this.currentTime=Date.now(),"youzanwxd"===_global.platform)if(this.gte(_global.platform_version,"1.5.0"))this.doCall("gotoWebview",o);else switch(o.page){case"supplierHomepage":this.doCall("goHomePage",{homeurl:o.url,name:o.name});break;case"goodsList":this.doCall("viewGoodsList",{url:o.url});break;case"goodsDetail":this.doCall("viewGoodsDetail",{detail_url:o.url,average_profit:o.average_profit,alias:o.alias,seller_goods_alias:o.seller_goods_alias});break;case"newsDetail":this.doCall("viewNewsDetail",{detail_url:o.url})}else this.doCall("gotoWebview",o)},gotoNative:function(o){if("youzanwxd"===_global.platform)if(this.gte(_global.platform_version,"1.5.0"))this.doCall("gotoNative",o);else switch(o.page){case"addGoods":this.doCall("addGoodsToShop",{alias:o.alias,seller_goods_alias:o.seller_goods_alias})}else this.doCall("gotoNative",o)},doAction:function(o){if("youzanwxd"===_global.platform)if(this.gte(_global.platform_version,"1.5.0"))this.doCall("doAction",o);else switch(o.action){case"back":this.doCall("gotoLogin",{});break;case"appWXPay":this.doCall("appWXPay",{kdt_id:o.kdt_id,order_no:o.order_no});break;case"deliverGoods":this.doCall("deliverGoods",{order_number:o.order_number})}else if("youzanwsc"===_global.platform)if(this.gte(_global.platform_version,"2.8.5"))this.doCall("doAction",o);else switch(o.action){case"back":this.doCall("previousStep",{})}},onAddGoodsSuccess:function(o){window.onReady("YouzanJSBridge",function(){window.YouzanJSBridge.on("addGoodsSuccess",function(e){o(e)})})},on:function(o,e){window.onReady("YouzanJSBridge",function(){window.YouzanJSBridge.on("dataReady",function(a){var t=a.datatype,i=a.data,n={};if("object"==typeof i)n=i;else try{n=JSON.parse(i)}catch(o){}t===o&&e(n)})})}}}),require(["wap/components/app_h5/main","bower_components/youzanjsbridge/api"],function(o,e){function a(){var o=window.getShareData()||{},e=o.img_url,a=o.link;if(e)try{o.img_url=e.split("?")[0].replace(/(\![0-9]+x[0-9]+.+)/g,"")+"!145x145.jpg",o.link=a+"&source=yzapp"}catch(t){o.img_url=e,o.link=a}return o}var t={menus:[{name:"",type:"icon_indicator",icon:"http://su.yzcdn.cn/v2/image/yzapp/icons/toolbar-menu@3x.png",uri:"youzanjs://dropmenu?id=1",indicator:{type:"badge"},params:{listen:"msg_center"}}]};e.doCall("setRightMenu",$.extend(!0,{},t)),window.onReady("YouzanJSBridge",function(){window.YouzanJSBridge.on("shareData",function(e){var t=a();t._requestId=e||"",o.putData("shareData",t)})})}),define("main",function(){});