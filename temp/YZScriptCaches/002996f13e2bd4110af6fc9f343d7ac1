define("zenjs/util/number",[],function(){return{makeRandomString:function(t){var i="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";t=t||10;for(var o=0;o<t;o++)i+=n.charAt(Math.floor(Math.random()*n.length));return i}}}),define("bower_components/pop/pop",["require","zenjs/events","zenjs/util/number"],function(t){var i=function(){},n=t("zenjs/events"),o=t("zenjs/util/number");return window.zenjs=window.zenjs||{},n.extend({init:function(t){this._window=$(window);var n=o.makeRandomString();$("body").append('<div id="'+n+'"                 style="display:none; height: 100%;                 position: fixed; top: 0; left: 0; right: 0;                background-color: rgba(0, 0, 0, '+(t.transparent||".7")+');z-index:1000;opacity:0;transition: opacity ease 0.2s;"></div>'),this.nBg=$("#"+n),this.nBg.on("click",$.proxy(function(){this.isCanNotHide||this.hide()},this));var e=o.makeRandomString();$("body").append('<div id="'+e+'" class="'+(t.className||"")+'" style="overflow:hidden;visibility: hidden;"></div>'),this.nPopContainer=$("#"+e),this.nPopContainer.hide(),this.nPopContainer.css({opacity:0,position:"absolute","z-index":1e3}),t.contentViewClass&&(this.contentViewClass=t.contentViewClass,this.contentViewOptions=$.extend({el:this.nPopContainer},t.contentViewOptions||{}),this.contentView=new this.contentViewClass($.extend({onHide:$.proxy(this.hide,this)},this.contentViewOptions)),this.contentView.onHide=$.proxy(this.hide,this)),this.animationTime=t.animationTime||300,this.isCanNotHide=t.isCanNotHide,this.doNotRemoveOnHide=t.doNotRemoveOnHide||!1,this.onShow=t.onShow||i,this.onHide=t.onHide||i,this.onFinishHide=t.onFinishHide||i,this.html=t.html},render:function(t){return this.renderOptions=t||{},this.contentViewClass?this.contentView.render(this.renderOptions):this.html&&this.nPopContainer.html(this.html),this},show:function(){return this.nBg.show().css({opacity:"1","transition-property":"none"}),this.nPopContainer.show(),this.trigger("pop:show:before"),setTimeout($.proxy(function(){this.trigger("pop:show:after"),this.nPopContainer.show().css("visibility","visible"),this._doShow&&this._doShow(),this.onShow()},this),200),this},hide:function(t){t=t||{};var i=t.doNotRemove||this.doNotRemoveOnHide||!1;this._doHide&&this._doHide(),this.trigger("pop:hide:before"),setTimeout($.proxy(function(){this.nBg.css({opacity:0,"transition-property":"opacity"}),this.trigger("pop:hide:after"),setTimeout($.proxy(function(){this.nBg.hide(),this.nPopContainer.hide(),i||this.destroy()},this),200)},this),this.animationTime),this.onHide()},destroy:function(){return this.nPopContainer.remove(),this.nBg.remove(),this.contentView&&this.contentView.remove(),this}})}),define("bower_components/pop/pop_forbid_scroll",["require","./pop"],function(t){return window.zenjs=window.zenjs||{},t("./pop").extend({init:function(t){this._super(t),t.doNotForbidScroll||(this.on("pop:show:before",$.proxy(this.onBeforePopShow,this)),this.on("pop:show:after",$.proxy(this.onAfterPopShow,this)),this.on("pop:hide:after",$.proxy(this.onAfterPopHide,this)))},onBeforePopShow:function(){this.top=this._window.scrollTop()},onAfterPopShow:function(){this._window.scrollTop(0),this.startShow()},onAfterPopHide:function(){var t,i=function(n){if(t!==this._window.scrollTop()&&n>0)return this._window.scrollTop(t),void setTimeout($.proxy(i,this,n-1));setTimeout($.proxy(this.onFinishHide,this),50)};return function(){this.startHide(),t=this.top,this._window.scrollTop(t),$.proxy(i,this)(2),setTimeout($.proxy(function(){window.zenjs.popList.length<1&&$("html").css("position",this.htmlPosition)},this),200)}}(),startShow:function(){var t=window.zenjs.popList;if(t||(t=window.zenjs.popList=[]),0===t.length){var i=$("body"),n=$("html");this.htmlPosition=n.css("position"),n.css("position","relative"),this.bodyCss=(i.prop("style")||{}).cssText,this.htmlCss=(n.prop("style")||{}).cssText,$("body,html").css({overflow:"hidden",height:this._window.height(),"padding-bottom":0,"margin-bottom":0})}t.indexOf(this)<0&&t.push(this)},startHide:function(){var t=window.zenjs.popList,i=t.indexOf(this);i>-1&&t.splice(i,1),t.length<1&&($("html").attr("style",this.htmlCss||""),$("body").attr("style",this.bodyCss||""))}})}),define("bower_components/pop/popout",["require","./pop_forbid_scroll"],function(t){return t("./pop_forbid_scroll").extend({init:function(t){t=t||{},this._super(t),this.css=$.extend({transition:"opacity ease "+this.animationTime+"ms",top:"50%",left:"50%","-webkit-transform":"translate3d(-50%, -50%, 0)",transform:"translateY(-50%, -50%, 0)"},t.css||{}),this.nPopContainer.css(this.css)},_doShow:function(){$(".js-popout-close").click($.proxy(function(t){this.hide()},this)),this.nPopContainer.css("opacity",1),this.nPopContainer.show()},_doHide:function(t){this.nPopContainer.css({opacity:0})}})}),define("bower_components/pop/popout_box",["require","./popout"],function(t){var i=function(){};return t("./popout").extend({init:function(t){this._super(t),this._onOKClicked=t.onOKClicked||i,this._onCancelClicked=t.onCancelClicked||i,this.preventHideOnOkClicked=t.preventHideOnOkClicked||!1,this.width=t.width,this.setEventListener()},setEventListener:function(){this.nPopContainer.on("click",".js-ok",$.proxy(this.onOKClicked,this)),this.nPopContainer.on("click",".js-cancel",$.proxy(this.onCancelClicked,this))},_doShow:function(){this.boxCss={"border-radius":"4px",background:"white",width:this.width||"270px",padding:"15px"},this.nPopContainer.css(this.boxCss).addClass("popout-box"),this._super()},_doHide:function(t){this._super()},onOKClicked:function(t){this._onOKClicked(t),!this.preventHideOnOkClicked&&this.hide()},onCancelClicked:function(t){this._onCancelClicked(t),this.hide()}})}),define("text!wap/apps/luckymoney/templates/pop.html",[],function(){return'<div class="luckymoney-pop-wrap">\n    <h2 class="luckymoney-pop-title">温馨提示</h2>\n    <div class="luckymoney-pop-content"><%= content %></div>\n    <div class="luckymoney-pop-action">\n        <button class="btn js-cancel">我知道了</button>\n    </div>\n</div>\n'}),require(["bower_components/pop/popout_box","text!wap/apps/luckymoney/templates/pop.html"],function(t,i){function n(n){var o=new $.Deferred;new t({html:_.template(i)({content:n}),onOKClicked:o.resolve}).render().show();return o.promise()}function o(){window.location.href=_detail.attentionUrl}function e(){window.showGuide&&window.showGuide("share")}_global.fans_nickname?window.__title=_global.fans_nickname+"送给你一个红包，快来领取吧！- 更多红包尽在"+_global.mp_data.team_name:window.__title="送你一个红包，快来领取吧！- 更多红包尽在"+_global.mp_data.team_name;var s=!1;$(".js-send-btn").click(function(t){var i=$(t.target);s||(i.html("正在抢.."),s=!0,$.post("/v2/apps/luckymoney/send.json",{alias:_detail.alias}).done(function(t){0==t.code?n("红包已通过公众号发放，请在24小时内领取，逾期未领取将自动退回。").then(e):10201==t.code?n("喔喔喔，今天的红包领完啦，明天记得再来！").then(e):10202==t.code?n("喔喔喔，你的红包已经领完啦！").then(e):10203==t.code?n("喔喔喔，红包已经领完啦，下次再来哦！").then(e):10101==t.code?n("你不是我们的粉丝，无法领取红包。").then(o):10102==t.code?n("活动信息异常，过会再试试吧。").then(o):10103==t.code?n("啊哦，本次抢红包活动还未开始。").then(o):10104==t.code&&n("啊哦，本次抢红包活动已经结束。").then(o)}).fail(function(){n("啊哦，网络异常！").then(o)}).always(function(){s=!1,i.html("去抢红包")}))})}),define("main",function(){});