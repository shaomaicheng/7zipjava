define("bower_components/verlet/base/class",["require","exports","module"],function(e,t,n){var i=!1,s=/\b_super\b/,r=function(){};r.extend=function(e,t){function n(){!i&&this.init&&this.init.apply(this,arguments)}var r=this.prototype;i=!0;var o=new this;i=!1;for(var c in e)o[c]="function"==typeof e[c]&&"function"==typeof r[c]&&s.test(e[c])?function(e,t){return function(){var n=this._super;this._super=r[e];var i=t.apply(this,arguments);return this._super=n,i}}(c,e[c]):e[c];t=t||{};for(var l in t)n[l]=t[l];return n.prototype=o,n.prototype.constructor=n,n.extend=arguments.callee,n},n.exports=r}),define("bower_components/verlet/base/events",["require","exports","module","bower_components/verlet/base/class"],function(e,t,n){var i=e("bower_components/verlet/base/class");n.exports=i.extend({on:function(e,t,n){return this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push({callback:t,context:n,ctx:n||this}),this},off:function(e,t,n){var i,s,r,o,c,l,a,h;if(!e&&!t&&!n)return this._events={},this;for(o=e?[e]:Object.keys(this._events),c=0,l=o.length;c<l;c++)if(e=o[c],r=this._events[e]){if(this._events[e]=i=[],t||n)for(a=0,h=r.length;a<h;a++)s=r[a],(t&&t!==s.callback&&t!==s.callback._callback||n&&n!==s.context)&&i.push(s);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=[].slice.call(arguments,1),n=this._events[e];if(n)for(var i,s=-1;++s<n.length;)(i=n[s]).callback.apply(i.ctx,t)},triggerMethod:function(){function e(e,t,n){return n.toUpperCase()}function t(e,t,n){return[].slice.call(e,null===t||n?1:t)}return function(n){var i="on"+n.replace(/(^|:)(\w)/gi,e),s=this[i];if("function"==typeof this.trigger&&this.trigger.apply(this,arguments),"function"==typeof s)return s.apply(this,t(arguments))}}()})}),define("bower_components/verlet/base/enhanced_events",["require","exports","module","bower_components/verlet/base/events"],function(e,t,n){function i(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}}var s=e("bower_components/verlet/base/events"),r=/\s+/,o=function(e,t,n,i,s){var c,l=0;if(n&&"object"==typeof n){void 0!==i&&"context"in s&&void 0===s.context&&(s.context=i);for(c=_.keys(n);l<c.length;l++)t=o(e,t,c[l],n[c[l]],s)}else if(n&&r.test(n))for(c=n.split(r);l<c.length;l++)t=e(t,c[l],i,s);else t=e(t,n,i,s);return t},c=function(e,t,n,i){if(n){var s=e[t]||(e[t]=[]),r=i.context,o=i.ctx,c=i.listening;c&&c.count++,s.push({callback:n,context:r,ctx:r||o,listening:c})}return e},l=function(e,t,n,i,s){if(e._events=o(c,e._events||{},t,n,{context:i,ctx:e,listening:s}),s){(e._listeners||(e._listeners={}))[s.id]=s}return e},a=s.extend({once:function(e,t,n){var s=this,r=i(function(){s.off(e,r),t.apply(this,arguments)});return r._callback=t,this.on(e,r,n)},listenTo:function(e,t,n){if(!e)return this;var i=e._listenId||(e._listenId=_.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),r=s[i];if(!r){var o=this._listenId||(this._listenId=_.uniqueId("l"));r=s[i]={obj:e,objId:i,id:o,listeningTo:s,count:0}}return l(e,t,n,this,r),this},stopListening:function(e,t,n){var i=this._listeningTo;if(!i)return this;for(var s=e?[e._listenId]:_.keys(i),r=0;r<s.length;r++){var o=i[s[r]];if(!o)break;o.obj.off(t,n,this)}return _.isEmpty(i)&&(this._listeningTo=void 0),this}});n.exports=a}),define("bower_components/verlet/_/type",["require","exports","module"],function(e,t,n){function i(e){return function(t){return{}.toString.call(t)=="[object "+e+"]"}}n.exports={isObject:i("Object"),isString:i("String"),isArray:Array.isArray||i("Array"),isFunction:i("Function"),isUndefined:i("Undefined"),isEmpty:function(e){if(null===e)return!0;if(this.isArray(e)||this.isString(e))return 0===e.length;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}}}),define("bower_components/verlet/_/objects",["require","exports","module","bower_components/verlet/_/type"],function(e,t,n){var i=e("bower_components/verlet/_/type"),s=Object.prototype.toString,r=Array.prototype.slice,o=Array.prototype.concat,c=Object.keys;n.exports={keys:c||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)_.has(e,n)&&t.push(n);return t},values:function(e){for(var t=this.keys(e),n=t.length,i=[],s=0;s<n;s++)i[s]=e[t[s]];return i},pairs:function(e){for(var t=this.keys(e),n=t.length,i=new Array(n),s=0;s<n;s++)i[s]=[t[s],e[t[s]]];return i},invert:function(e){for(var t={},n=this.keys(e),i=0,s=n.length;i<s;i++)t[e[n[i]]]=n[i];return t},pick:function(e){for(var t={},n=o.apply(Array.prototype,r.call(arguments,1)),i=0;i<n.length;i++)n[i]in e&&(t[n[i]]=e[n[i]]);return t},omit:function(e){var t={},n=o.apply(Array.prototype,r.call(arguments,1));for(var i in e)n.indexOf(i)==-1&&(t[i]=e[i]);return t},defaults:function(e){return r.call(arguments,1).forEach(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},extend:function(e){for(var t=r.call(arguments,1),n=0;n<t.length;n++)if(t[n])for(var i in t[n])e[i]=t[n][i];return e},clone:function(e){return i.isObject(e)?i.isArray(e)?e.slice():this.extend({},e):e},isEqual:function(e,t){return this.eq(e,t,[],[])},eq:function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null===e||null===t)return e===t;e instanceof _&&(e=e._wrapped),t instanceof _&&(t=t._wrapped);var o=s.call(e);if(o!=s.call(t))return!1;switch(o){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0===e?1/e==1/t:e===+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var c=n.length;c--;)if(n[c]==e)return r[c]==t;var l=e.constructor,a=t.constructor;if(l!==a&&!(i.isFunction(l)&&l instanceof l&&i.isFunction(a)&&a instanceof a))return!1;n.push(e),r.push(t);var h=0,u=!0;if("[object Array]"==o){if(h=e.length,u=h==t.length)for(;h--&&(u=this.eq(e[h],t[h],n,r)););}else{for(var f in e)if(this.has(e,f)&&(h++,!(u=this.has(t,f)&&this.eq(e[f],t[f],n,r))))break;if(u){for(f in t)if(this.has(t,f)&&!h--)break;u=!h}}return n.pop(),r.pop(),u},has:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}}),define("bower_components/verlet/_/utils",["require","exports","module","bower_components/verlet/_/type"],function(e,t,n){var i=e("bower_components/verlet/_/type"),s={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}},r={invert:function(e){for(var t={},n=Object.keys(e),i=0,s=n.length;i<s;i++)t[e[n[i]]]=n[i];return t},escape:function(e){return null===e?"":(""+e).replace(o.escape,function(e){return s.escape[e]})},unescape:function(e){return null===e?"":(""+e).replace(o.unescape,function(e){return s.unescape[e]})},uniqueId:function(){var e=0;return function(t){var n=++e+"";return t?t+n:n}}(),result:function(e,t){if(null!==e){var n=e[t];return i.isFunction(n)?n.call(e):n}}};s.unescape=r.invert(s.escape);var o={escape:new RegExp("["+Object.keys(s.escape).join("")+"]","g"),unescape:new RegExp("("+Object.keys(s.unescape).join("|")+")","g")};n.exports=r}),define("bower_components/verlet/_/functions",["require","exports","module","bower_components/verlet/_/type"],function(e,t,n){var i=e("bower_components/verlet/_/type"),s=Array.prototype,r=Function.prototype,o=s.slice,c=r.bind,l=function(){};n.exports={bind:function(e,t){var n;if(c&&e.bind===c)return c.apply(e,o.call(arguments,1));if(!i.isFunction(e))throw new TypeError;n=o.call(arguments,2);var s=function(){if(!(this instanceof s))return e.apply(t,n.concat(o.call(arguments)));l.prototype=e.prototype;var i=new l;l.prototype=null;var r=e.apply(i,n.concat(o.call(arguments)));return Object(r)===r?r:i};return s},delay:function(e,t){var n=o.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},defer:function(e){return this.delay.apply(_,[e,1].concat(o.call(arguments,1)))}}}),define("bower_components/verlet/views/base",["require","exports","module","bower_components/verlet/base/enhanced_events","bower_components/verlet/_/objects","bower_components/verlet/_/utils","bower_components/verlet/_/type","bower_components/verlet/_/functions"],function(e,t,n){var i=e("bower_components/verlet/base/enhanced_events"),s=e("bower_components/verlet/_/objects"),r=e("bower_components/verlet/_/utils"),o=e("bower_components/verlet/_/type"),c=e("bower_components/verlet/_/functions"),l=["model","collection","el","id","attributes","className","tagName","events","prefixId"],a=i.extend({init:function(e){this.options=e||{},s.extend(this,s.pick(this.options,l)),this.cid=r.uniqueId(this.prefixId),this._ensureElement(),this.initialize.apply(this,arguments)},prefixId:"view-",tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof $?e:$(e),this.el=this.$el[0]},delegateEvents:function(e){if(!(e=e||r.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var n=e[t];if(o.isFunction(n)||(n=this[n]),n){var i=t.match(/^(\S+)\s*(.*)$/);this.delegate(i[1],i[2],c.bind(n,this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(r.result(this,"el"));else{var e=s.extend({},r.result(this,"attributes"));this.id&&(e.id=r.result(this,"id")),this.className&&(e.class=r.result(this,"className")),this.setElement(this._createElement(r.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}},{define:function(e,t,n){return this[e]=this.extend(t,n),this[e]},get:function(e){return this[e]},create:function(){}});n.exports=a}),define("bower_components/verlet/views/View",["require","exports","module","bower_components/verlet/views/base"],function(e,t,n){var i=e("bower_components/verlet/views/base"),s=i.extend({initialize:function(){},render:function(){return this},showLoading:function(){},hideLoading:function(){},onShow:function(){},onHide:function(){},onDestroy:function(){}},{define:function(e,t,n){return this[e]=this.extend(t,n),this[e]},get:function(e){return this[e]},create:function(e,t,n){var i=this.get(e);return i?new i(t,n):null}});window.Verlet=window.Verlet||{},window.Verlet.View=s,n.exports=s}),define("bower_components/verlet/views/PageView",["require","exports","module","bower_components/verlet/views/View"],function(e,t,n){var i=e("bower_components/verlet/views/View"),s=i.extend({initialize:function(){},render:function(){return this}});window.Verlet=window.Verlet||{},window.Verlet.PageView=s,n.exports=s}),define("bower_components/waterfall/pager",["require","zenjs/events"],function(e){var t=e("zenjs/events"),n=function(){};return t.extend({init:function(e){this.$el||(this.$el=$(e.el||e.$el||"<div></div>"),this.el=this.$el[0]),this.nLoading=e.loadingHTML?$(e.loadingHTML).addClass("loading-more"):$('<div class="loading-more"><span></span></div>'),this.nList=this.$el.find(".js-list"),0===this.nList.length&&(this.nList=$('<div class="js-list b-list"></div>'),this.$el.append(this.nList)),"number"==typeof e.total&&(this.total=e.total),this.offset=e.offset||300,this.scrollDirection="down",this.pageIndex=e.pageIndex||0,this.perPage=e.perPage||10,this.postData=e.postData||{},this.checkSize=!0,"boolean"==typeof e.checkSize&&(this.checkSize=e.checkSize),this.idName=e.idName||"id",e.idValue&&(this.idValue=e.idValue),this.jsonKeys=e.jsonKeys||{},this.finishedHTML=e.finishedHTML,this.finishedText=e.finishedText,this.emptyHTML=e.emptyHTML||"",this.emptyText=e.emptyText||"",this.getExtrPostData=e.getExtrPostData||n,this.onFetchError=e.onFetchError||n,this.onListEmpty=this.onListEmpty||e.onEmpty||this._onListEmpty,this.on("finished",e.onFinished||n),this.on("after:list:load",e.onAfterListLoad||e.onDataLoad||n),this.extraData={},this.scrollContainer=e.scrollContainer?$(e.scrollContainer):$("body"),this.scrollEventAccepter=e.scrollEventAccepter?$(e.scrollEventAccepter):$(e.scrollContainer||window),this._onScroll=$.proxy(this.onScroll,this),this.bindScrollFunc()},$:function(e){return this.$el.find(e)},onScroll:function(){function e(){var e=this.nList.offset(),t=this.scrollContainer.offset();return{left:e.left-t.left||0,top:e.top-t.top||0}}return function(){if(!(this.sleeping||this.finished||this.fetching)){if(0===this.total||this.total&&this.total<=this.pageIndex*this.perPage)return void this.doFinishLoading();var t=e.call(this);"down"===this.scrollDirection&&this.nList.height()+t.top-this.scrollEventAccepter.height()-this.scrollContainer.scrollTop()<this.offset&&this.fetchMore&&this.fetchMore(),"up"===this.scrollDirection&&this.scrollContainer.scrollTop()<this.offset&&this.fetchMore&&this.fetchMore()}}}(),fetchMore:function(){return this.sleeping||this.finished||this.fetching?this:(this.showLoading(),this.fetching=!0,this._fetchMore&&this._fetchMore.call(this),this)},onFetchMoreSuccess:function(){this.hideLoading(),this.fetching=!1,this._onFetchMoreSuccess.apply(this,arguments)},fetchRender:function(){return this.fetchMore(),this},_onFetchMoreError:function(){this.fetching=!1,this.hideLoading(),this.onFetchError()},doFinishLoading:function(e){this.finished=!0,this.fetching=!1,this.hideLoading(),this.$el.find(".list-finished").remove(),this.triggerMethod&&this.triggerMethod("finished",this.collection,e)},bindScrollFunc:function(){var e=this;this.scrollFunc&&this.unbindScrollFunc(),this.scrollFunc=function(){e.scrollTimeout&&clearTimeout(e.scrollTimeout),e.scrollTimeout=setTimeout(e._onScroll,200)},this.scrollEventAccepter.on("scroll",this.scrollFunc)},unbindScrollFunc:function(){this.scrollEventAccepter.off("scroll",this.scrollFunc),this.scrollFunc=null},doSleep:function(){this.sleeping=!0,this.unbindScrollFunc()},doWake:function(){this.sleeping=!1,this.bindScrollFunc(),this.fetchMore()},showLoading:function(){this.hasFetching=!0,this.$el.append(this.nLoading)},hideLoading:function(){this.nLoading.remove()},getFinishHtml:function(){return this.finishedHTML?$(this.finishedHTML).addClass("list-finished"):'<div class="list-finished">'+(this.finishedText||"已经没有更多了")+"</div>"},setExtraData:function(e){$.extend(this.extraData,e)},resetWaterfall:function(e){this.finished===!0&&this.$(".list-finished").remove(),this.removeAll&&this.removeAll(),this.nList.empty(),this.collection&&this.collection.reset([],{silent:!0}),this.listEl&&this.listEl.empty(),this.finished=!1,e&&e.pageIndex?this.pageIndex=e.pageIndex:this.pageIndex=0,this.idValue=void 0},_onListEmpty:function(){if(!this.fetching){var e;this.emptyHTML?e=$(this.emptyHTML).addClass("list-finished"):this.emptyText&&(e='<div class="list-finished">'+this.emptyText+"</div>"),this.$el.append(e)}},destroy:function(){this.doSleep(),this.$el.remove(),this.unbindScrollFunc()},remove:function(){this.destroy()}})}),define("bower_components/waterfall/waterfall_html",["require","bower_components/ajax/ajax","jquery","./pager"],function(e){e("bower_components/ajax/ajax");var t=e("jquery"),n=e("./pager");return n.extend({init:function(e){this.$el&&this.$el.find(".list-finished")&&this.$el.find(".list-finished").length>0||(this._super(e),void 0!==e.pageIndex?this.pageIndex=+e.pageIndex:this.pageIndex=1,this.url=e.url||"",this.ajaxType=e.ajaxType||"GET",this.dataType=e.dataType||"json",this.on("finished",this._doFinishLoading),this.onScroll())},_fetchMore:function(){var e=this,n={};this.perPage&&(n[this.jsonKeys.perPage||"perpage"]=this.perPage),this.idValue?n[this.idName]=this.idValue:n[this.jsonKeys.pageIndex||"page"]=this.pageIndex+1;var i=this.getExtrPostData?this.getExtrPostData():{};t._ajax({url:e.url,type:e.ajaxType,dataType:e.dataType,data:t.extend({},e.postData,n,i,e.extraData),timeout:5e3,success:function(t){e.pageIndex++,t&&0==t.code?e.onFetchMoreSuccess({},t||{}):e.doFinishLoading(t)},error:function(t,n,i){e._onFetchMoreError()}})},_onFetchMoreSuccess:function(e,t){var n=(t||{}).data||{};if(n[this.idName]&&(this.idValue=n[this.idName]),this.triggerMethod("after:list:load",n.html||"",t),!n.html)return this.pageIndex--,void this.doFinishLoading(t);this.onScroll()},_doFinishLoading:function(){if(0==this.pageIndex&&this.triggerMethod("list:empty"),this.hasFetching&&this.pageIndex>2){var e=this.getFinishHtml();this.$el.append(e)}}})}),require(["bower_components/youzanjsbridge/api","bower_components/verlet/views/PageView","bower_components/waterfall/waterfall_html","zenjs/util/args"],function(e,t,n,i){var s=t.extend({el:"body",events:{"click .js-goto":"onGotoClicked"},initialize:function(){var e=this;this.access_token=_global.access_token||i.get("access_token"),this.category="all",this.$brandList=$("#js-brand-list"),new n({el:e.$brandList,url:"/v2/fenxiao/brand/list.json",perPage:10,page:2,onDataLoad:function(t){e.$brandList.find(".js-list").append(t),$(".js-lazy").lazyload()},emptyText:"没有更多品牌了"}).fetchRender()},onGotoClicked:function(t){var n=this,s=$(t.currentTarget).data("keyword"),r=_global.url.wap+"/fenxiao/market/subCategory/";r=i.addParameter(r,{access_token:n.access_token,keyword:s,category:n.category,is_best:1}),e.gotoWebview({page:"web",url:r})}});window.brandListPage=new s}),define("main",function(){});