define("wap/trade/peerpay/result/store/store",["require"],function(t){return{model:{id:"",type:"",status_name:"",paidList:{}},init:function(t){this.model=t||{}},getIsSinglePeerpay:function(t){return"onepay"===this.model.peerpay_type},getInviteId:function(){return this.model.id||""},getType:function(){return this.model.type||0},getState:function(){return this.model.status_name||"ERROR"},getPaidList:function(){return this.model.paidList||{}}}}),define("text!wap/trade/peerpay/result/templates/paid_list.html",[],function(){return'<div class="paid-list-block block block-list" v-scroll:list="fetchMore" v-if="showPaidList">\n  <div class="paid-list-img"></div>\n  <div class="paid-item block-item" v-for="paidItem in list">\n    <img class="circular" :src="paidItem.fans_avatar" />\n    <p class="name font-size-12">\n      <span class="c-black">{{paidItem.user_name}}</span>\n      <span class="c-gray-darker"> 支持 </span>\n      <span class="c-orange">¥{{paidItem.real_pay}}</span>\n    </p>\n    <p class="message c-gray-darker font-size-12">{{paidItem.user_message}}</p>\n  </div>\n  <div :class="{\'loading-more\': isLoading}"><span></span></div>\n  <p class="show-more c-gray" v-show="fetchMoreText" @click="fetchMore">{{fetchMoreText}}</p>\n</div>\n'}),define("wap/trade/peerpay/result/views/paid_list",["require","text!../templates/paid_list.html"],function(t){"use strict";var e=t("text!../templates/paid_list.html");Vue.component("vm-paidlist",{template:e,props:["store"],data:function(){return{isLoading:!1,list:this.store.getPaidList().list,total:this.store.getPaidList().total,nextPage:2}},computed:{showPaidList:function(){return this.list.length>0},hasMoreData:function(){return this.list.length<this.total},fetchMoreText:function(){return this.hasMoreData||2!==this.nextPage?this.hasMoreData?"点击加载更多":"( ⊙ o ⊙ )啊哦，没有更多啦":null}},methods:{fetchMore:function(){if(!this.isLoading&&this.hasMoreData){this.isLoading=!0;var t={invite_id:this.store.getInviteId(),page:this.nextPage};$._ajax({url:"/v2/pay/peerpay/paidList.json",type:"GET",data:t,success:this.onFetchMoreSuccess,error:this.onFetchMoreError})}},onFetchMoreError:function(t){this.isLoading=!1,window.motify.log("加载失败")},onFetchMoreSuccess:function(t){this.nextPage++,this.isLoading=!1,this.list=this.list.concat(t.data.list),this.list.length>this.total&&(this.list=this.list.splice(0,this.total))}}})}),require(["wap/trade/peerpay/result/store/store","bower_components/youzanjsbridge/core","wap/trade/peerpay/result/views/paid_list"],function(t){"use strict";function e(){s?(i.addClass("hide"),window.YouzanJSBridge.doShare()):i.removeClass("hide")}t.init(window._global.invite);var i=$(".js-share-popover"),s=!1;i.click(function(){i.addClass("hide")}),window.onReady("YouzanJSBridge",function(){s=!0,e()}),e();var a=new Vue({el:"#paidlist-container",data:{store:t}});$(".js-share-btn").click(function(){e()}),$(".js-try-btn").click(function(){if(!window._global.shop_item)return void window.motify.log("跳转链接出错啦,刷新页面试试");1===window._global.shop_item.total_amount?window.location.href=window._global.shop_item.goods_url:window.location.href=window._global.shop_item.store_url}),$(".js-pay-btn").click(function(){window.location.href=window._global.pay_message_url});var n=$(".js-head-block-bg");return n.click(function(){n.toggleClass("on-top")}),a}),define("main",function(){});