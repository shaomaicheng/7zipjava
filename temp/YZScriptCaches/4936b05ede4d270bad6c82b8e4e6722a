define("zenjs/util/number",[],function(){return{makeRandomString:function(t){var i="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";t=t||10;for(var e=0;e<t;e++)i+=n.charAt(Math.floor(Math.random()*n.length));return i}}}),define("bower_components/pop/pop",["require","zenjs/events","zenjs/util/number"],function(t){var i=function(){},n=t("zenjs/events"),e=t("zenjs/util/number");return window.zenjs=window.zenjs||{},n.extend({init:function(t){this._window=$(window);var n=e.makeRandomString();$("body").append('<div id="'+n+'"                 style="display:none; height: 100%;                 position: fixed; top: 0; left: 0; right: 0;                background-color: rgba(0, 0, 0, '+(t.transparent||".7")+');z-index:1000;opacity:0;transition: opacity ease 0.2s;"></div>'),this.nBg=$("#"+n),this.nBg.on("click",$.proxy(function(){this.isCanNotHide||this.hide()},this));var o=e.makeRandomString();$("body").append('<div id="'+o+'" class="'+(t.className||"")+'" style="overflow:hidden;visibility: hidden;"></div>'),this.nPopContainer=$("#"+o),this.nPopContainer.hide(),this.nPopContainer.css({opacity:0,position:"absolute","z-index":1e3}),t.contentViewClass&&(this.contentViewClass=t.contentViewClass,this.contentViewOptions=$.extend({el:this.nPopContainer},t.contentViewOptions||{}),this.contentView=new this.contentViewClass($.extend({onHide:$.proxy(this.hide,this)},this.contentViewOptions)),this.contentView.onHide=$.proxy(this.hide,this)),this.animationTime=t.animationTime||300,this.isCanNotHide=t.isCanNotHide,this.doNotRemoveOnHide=t.doNotRemoveOnHide||!1,this.onShow=t.onShow||i,this.onHide=t.onHide||i,this.onFinishHide=t.onFinishHide||i,this.html=t.html},render:function(t){return this.renderOptions=t||{},this.contentViewClass?this.contentView.render(this.renderOptions):this.html&&this.nPopContainer.html(this.html),this},show:function(){return this.nBg.show().css({opacity:"1","transition-property":"none"}),this.nPopContainer.show(),this.trigger("pop:show:before"),setTimeout($.proxy(function(){this.trigger("pop:show:after"),this.nPopContainer.show().css("visibility","visible"),this._doShow&&this._doShow(),this.onShow()},this),200),this},hide:function(t){t=t||{};var i=t.doNotRemove||this.doNotRemoveOnHide||!1;this._doHide&&this._doHide(),this.trigger("pop:hide:before"),setTimeout($.proxy(function(){this.nBg.css({opacity:0,"transition-property":"opacity"}),this.trigger("pop:hide:after"),setTimeout($.proxy(function(){this.nBg.hide(),this.nPopContainer.hide(),i||this.destroy()},this),200)},this),this.animationTime),this.onHide()},destroy:function(){return this.nPopContainer.remove(),this.nBg.remove(),this.contentView&&this.contentView.remove(),this}})}),define("wap/components/loading",["bower_components/pop/pop"],function(t){var i,n=t.extend({init:function(t){t=t||{},this._super(t),this.css={position:"fixed",opacity:1,top:"50%",left:"50%","-webkit-transform":"translate3d(-50%, -50%, 0)",transform:"translateY(-50%, -50%, 0)"},this.nPopContainer.css(this.css)}});return{show:function(t){t=t||"处理中",i&&this.hide(),i=new n({html:'<div class="loader-container"><div class="loader center">'+t+"</div></div>",isCanNotHide:!0,transparent:".6"}).render().show()},hide:function(){i&&i.hide(),i=null}}}),require(["wap/components/loading"],function(t){"use strict";function i(){this.validatorList=[]}function n(){var t=new i;return t.add(o.url,[{strategy:"isNotEmpty",errorMsg:"请输入申诉网址"}]),t.add(o.reason,[{strategy:"minLength:1",errorMsg:"申诉原因不得为空"}]),t.add(o.reason,[{strategy:"maxLength:50",errorMsg:"请填写不超过50字的申诉原因"}]),t.add(o.mobile,[{strategy:"isValidMobile",errorMsg:"请填写有效联系电话"}]),t.add(o.email,[{strategy:"isValidEmail",errorMsg:"请填写有效联系邮箱"}]),t.start()}var e=$("#appeal-btn"),o=document.querySelector("#form"),s={isNotEmpty:function(t,i){if(0===t.length)return i},minLength:function(t,i,n){if(t.length<i)return n},maxLength:function(t,i,n){if(t.length>i)return n},isValidMobile:function(t,i){if(!/(^1[3|5|7|8]\d{9})/.test(t))return i},isValidEmail:function(t,i){if(!/^[a-z_0-9.-]{1,64}@([a-z0-9-]{1,200}.){1,5}[a-z]{1,6}$/.test(t))return i}};i.prototype.add=function(t,i){for(var n,e=this,o=0;n=i[o++];)!function(i){var n=i.strategy.split(":"),o=i.errorMsg;e.validatorList.push(function(){var i=n.shift();return n.unshift(t.value),n.push(o),s[i].apply(t,n)})}(n)},i.prototype.start=function(){for(var t=0,i=this.validatorList.length;t<i;t++){var n=this.validatorList[t]();if(n)return n}},e.on("click",function(){var i=!1,s=n();if(i)return!1;s?motify.log(s):$.ajax({url:"/v2/waf/appeal/appeal.json",type:"post",data:{appeal_url:o.url.value,appeal_email:o.email.value,appeal_mobile:o.mobile.value,appeal_reason:o.reason.value,alias:o.alias.value},dataType:"json",beforeSend:function(){i=!0,t.show()}}).done(function(t){0===t.code?motify.log('<i class="icon-success"></i><p>'+t.msg+"</p>"):motify.log(t.msg),e.html("已提交").css("background-color","#00AA00")}).fail(function(t){motify.log(t.message)}).always(function(){i=!1,t.hide()})})}),define("main",function(){});