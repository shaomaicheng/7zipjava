define("zenjs/util/cookie",[],function(){return function(){var e=new Date,t=+e,n=function(e){var t=document.cookie,n="\\b"+e+"=",i=t.search(n);if(i<0)return"";i+=n.length-2;var o=t.indexOf(";",i);return o<0&&(o=t.length),t.substring(i,o)||""},i=function(e,t,n){if(!e)return"";var i=[];for(var o in e)i.push(encodeURIComponent(o)+"="+(n?encodeURIComponent(e[o]):e[o]));return i.join(t||",")};return function(o,r){if(void 0===r)return n(o);if("string"==typeof r||r instanceof String){if(r)return document.cookie=o+"="+r+";",r;r={expires:-100}}r=r||{};var a=o+"="+(r.value||"")+";";delete r.value,void 0!==r.expires&&(e.setTime(t+864e5*r.expires),r.expires=e.toGMTString()),a+=i(r,";"),document.cookie=a}}()}),function(e){"use strict";var t;e.localStorage;try{var n=new Date;try{localStorage.setItem(n,n)}catch(e){if(22===e.code||1014===e.code&&"NS_ERROR_DOM_QUOTA_REACHED"===e.name)throw localStorage.clear&&localStorage.clear(),"localstorage define error"}var i=localStorage.getItem(n)==n;if(localStorage.removeItem(n),!i)throw"localstorage define error";if("FUNCTION"!=(typeof localStorage.clear).toUpperCase())throw"localstorage define error";t=localStorage}catch(e){var o=function(){return null};t={getItem:o,setItem:o,removeItem:o,clear:o}}"function"==typeof define&&define.amd&&define("zenjs/util/local_storage",[],function(){return t}),e.YZLocalStorage=t}(window),define("zenjs/util/args",["require","jquery"],function(e){var t=e("jquery"),n={getParameterByName:function(e,t){e=e.replace(/[[]/,"\\[").replace(/[]]/,"\\]"),t=t?"?"+t.split("#")[0].split("?")[1]:window.location.search;var n=RegExp("[?&]"+e+"=([^&#]*)").exec(t);return n?decodeURIComponent(n[1].replace(/\+/g," ")):""},removeParameter:function(e,t,n){function i(e,t){var n=e.split("?");if(n.length>=2){for(var i=encodeURIComponent(t)+"=",o=n[1].split(/[&;]/g),r=o.length;r-- >0;)o[r].lastIndexOf(i,0)!==-1&&o.splice(r,1);return e=n[0]+"?"+o.join("&")}return e}n=n||"search";var o=e.split("#"),r=[];if(o.length>=2){for(var a=0,s=o.length;a<s;a++)"search"===n?0===a?r.push(i(o[a],t)):r.push(o[a]):"hash"===n?0===a?r.push(o[a]):r.push(i(o[a],t)):"both"===n&&r.push(i(o[a],t));return r.join("#")}return i(e,t)},addParameter:function(){var e=function(e){var n="";for(var i in e)""!==e[i]&&(n+=t.trim(i)+"="+e[i]+"&");return n?"?"+n.slice(0,n.length-1):""};return function(n,i){if(!n||0===n.length||0===t.trim(n).indexOf("javascript"))return"";var o=n.split("#"),r=o[0].split("?"),a={};return r[1]&&t.each(r[1].split("&"),function(e,t){var n;n=t.split("="),a[n[0]]=n.slice(1).join("=")}),t.each(i||{},function(e,n){a[t.trim(e)]=encodeURIComponent(n)}),n=r[0]+e(a),o[1]?n+="#"+o[1]:n}}()};return n.get=n.getParameterByName,n.remove=n.removeParameter,n.add=n.addParameter,n}),define("bower_components/wap_common/base/logv2",["require","bower_components/ajax/ajax","zenjs/util/local_storage","zenjs/util/args"],function(e){"use strict";e("bower_components/ajax/ajax");var t=e("zenjs/util/local_storage"),n=e("zenjs/util/args"),i=window.Zepto||window.jQuery||i,o=_global.kdt_id,r=t.getItem("fp"),a=(window._global.wap_url||{}).tj||"//tj.youzan.com",s=function(e){var t=_global.spm||{},n={kdt_id:o,sf:c(),spm:(t.logType||"")+(t.logId||"")};e=i.extend(n,e);for(var s in e)""===e[s]&&delete e[s];"share"===e.fm&&(e.url=window.location.href),r&&(e.fp=r),i.ajax({url:a+"/v1/fm",xhrFields:{withCredentials:!0},data:e,defaultError:!1})},l=function(e){(e.attr("class")||"").indexOf("js-")<0&&(e=e.closest("[class*=js-]"));var t=e.attr("class").match(/js-(\S+)/),n=e.data("title")||e.text().trim().replace(/[\s|\r|\n]/g,"");n.length>20&&(n=n.substring(0,20)),t&&t.length>0&&s({fm:"click",ck:t[1],title:n})},c=function(){return n.get("sf")};return{log:s,logClick:l}}),define("zenjs/util/ua",[],function(){var e=navigator.userAgent.toLowerCase();return{isIOS:function(){return"ios"==window._global.mobile_system},getIOSVersion:function(){return parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||!1},isAndroid:function(){return"android"==window._global.mobile_system},isAndroidOld:function(){return/android 2.3/gi.test(e)||/android 2.2/gi.test(e)},getAndroidVersion:function(){var t=e.match(/android\s([0-9\.]*)/);return!!t&&t[1]},isWeixin:function(){return"weixin"==window._global.platform},isQQ:function(){return"qq"==window._global.platform},isIPad:function(){return/ipad/gi.test(e)},isMobile:function(){return window._global.is_mobile},isSafari:function(){return/safari/gi.test(e)&&!/chrome/gi.test(e)},getSafariVersion:function(){var t=/safari\/(\S*)/i;return t.test(e)?e.match(t)[1]:"0"},isChrome:function(){return/chrome/gi.test(e)},getChromeVersion:function(){var t=/chrome\/(\S*)/i;return t.test(e)?e.match(t)[1]:"0"},isUC:function(){return/ucbrowser/gi.test(e)},getUCVersion:function(){var t=/ucbrowser\/(\S*)/i;return t.test(e)?e.match(t)[1]:"0"},isWxd:function(){return"youzanwxd"===_global.platform},isWsc:function(){return"youzanwsc"===_global.platform},isPf:function(){return"younipf"===_global.platform},getPlatformVersion:function(){return _global.platform_version},getPlatform:function(){return _global.platform}}}),define("zenjs/util/str/escape",[],function(){return function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"};return(""+e).replace(/(\&|\<|\>|\"|\')/g,function(e){return t[e]})}}),define("zenjs/util/str/multiEllipsis",[],function(){return function(e,t){e&&t&&$(e).each(function(e,n){for(var i=$(n),o=i.find(t),r=o.text(),a=-1,s=0;o.height()>i.height()&&s<100;){s++;var l=r.slice(0,a--);l=l.replace(/([\S\s])$/,"..."),o.text(l)}})}}),define("zenjs/util/str/unescape",[],function(){return function(e){var t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'"};return(""+e).replace(/(\&amp;|\&lt;|\&gt;|\&quot;|\&#x27;)/g,function(e){return t[e]})}}),define("zenjs/util/str/decodeHTMLEntities",[],function(){function e(e){return e&&"string"==typeof e&&(e=e.replace(/<script[^>]*>([\S\s]*?)<\/script>/gim,""),e=e.replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gim,""),t.innerHTML=e,e=t.textContent,t.textContent=""),e}var t=document.createElement("div");return e}),define("zenjs/util/str",["require","./str/escape","./str/multiEllipsis","./str/unescape","./str/decodeHTMLEntities"],function(e){return{escape:e("./str/escape"),multiEllipsis:e("./str/multiEllipsis"),unescape:e("./str/unescape"),decodeHTMLEntities:e("./str/decodeHTMLEntities")}}),define("bower_components/wap_common/base/share",["require","zenjs/util/ua","zenjs/util/args","zenjs/util/str"],function(e){"use strict";var t=e("zenjs/util/ua"),n=e("zenjs/util/args"),i=e("zenjs/util/str"),o=window.Zepto||window.jQuery||o,r=window._global||{},a=r.share||{},s=function(e){return e=e.replace(/imgqn\.koudaitong\.com/i,"img.yzcdn.cn"),e.indexOf("imageView2")!==-1?e=e.replace(/(imageView2\/2\/w\/)\d+(\/h\/)\d+/,"$1200$2200"):e.indexOf("img.yzcdn.cn")===-1&&e.indexOf("imgqntest.koudaitong.com")===-1&&e.indexOf("dn-kdt-img.qbox.me")===-1&&e.indexOf("dn-kdt-img-test.qbox.me")===-1||(e=e.replace(/\!\d+x\d+.+/,"!200x200.jpg"),e.indexOf("!200x200")===-1&&(e+="!200x200.jpg")),e=e.replace("/format/webp","/format/jpg"),t.isWeixin()&&(e=e.replace("https://","http://")),e},l=function(e){return e.replace("http://shop","https://shop")},c=function(){var e=o("#wxcover"),t=null;return e&&e.length>0?(t=e.data("wxcover"))&&0!==t.length||(t=e.css("background-image"),t&&"none"!=t?(t=/^url\((['"]?)(.*)\1\)$/.exec(t),t=t?t[2]:null):t=null):(e=null,o(".content img").each(function(t,n){if(!o(n).hasClass("js-not-share"))return e=o(n),!1}),e&&e.length>0&&(t=e[0].getAttribute("data-src")||e[0].getAttribute("src"))),t||(_global.mp_data||{}).logo||"http://b.yzcdn.cn/v2/image/youzan_mall_logo.jpg"},u=function(e){e=e||document.documentURI;var t,i=Number(_global.kdt_id)||0,o=[2737501,618192,618242,371189,1],r=_global.youzan_share,a=Math.floor(9e3*Math.random())+1e3;return o.indexOf(i)>=0&&(i=0),r?(t=a+"."+r,e=e.replace(/:\/\/.*\.koudaitong\.com/g,"://"+t+".koudaitong.com"),e=e.replace(/:\/\/.*\.youzan\.com/g,"://"+t+".youzan.com")):(t=0===i?"192168-"+a:192168+i,e=e.replace("://wap.","://shop"+t+"."),e=e.replace("://h5.","://shop"+t+".")),e=n.remove(e,"redirect_count")},d=function(e,t){var n=e||o("#wxdesc").val()||o("#wxdesc").text()||o(".custom-richtext").text();if(!n||0==n.length){var r=o(".content").clone();r.find(".hide, .js-add-wish").remove(),n=i.escape((r.text()||t)+""),n=o("<div>"+n+"</div>").text()}return n.replace(/\s+/g," ").trim()},f=function(){var e=a.title||_global.title||o("#wxtitle").text()||document.title,t=l(a.link||u()),n=s(a.cover||c()),r=d(a.desc,e);return function(s){s=s||{},e=s.title||e,t=s.link||t,n=s.cover||n,r=s.desc||r;var l,c=o(".time-line-title"),u=a.otherShareData||{};return l=c.length>0?c.val()||c.text():a.timeline_title,o.extend({title:i.decodeHTMLEntities(i.unescape(e)),link:t,img_url:n,desc:i.decodeHTMLEntities(i.unescape(r)).substring(0,80),timeLineTitle:i.decodeHTMLEntities(i.unescape((l||"").trim()))},u)}}(),m=function(){var e=f();if(t){if(t.isIOS()){var n="#func=sharePlatsAction&content="+e.title+e.desc+"&content_url="+e.link+"&pic="+e.img_url;window.location.hash="",window.location.href=n}else t.isAndroid()&&window.android&&window.android.sharePlatsAction&&window.android.sharePlatsAction(e.title,e.link,e.img_url);window.StackTraceLogger&&window.StackTraceLogger.log({appName:"jserror-wap",logIndex:"wap",level:"info",name:"zhihuiwuxi_share",message:"zhihuiwuxi_share",detail:"zhihuiwuxi_share_hook"})}};window.shareHook=m,window.getShareLink=u,window.getShareData=window.getShareData||f}),define("bower_components/wap_common/base/wx",["require","./logv2","zenjs/util/args","./share"],function(e){"use strict";var t=e("./logv2"),n=e("zenjs/util/args"),i=window._global;e("./share");var o=function(e){if(window.WeixinJSBridge)e&&e();else{var t=setTimeout(function(){window.WeixinJSBridge&&e&&e()},1e3);document.addEventListener("WeixinJSBridgeReady",function(){clearTimeout(t),e&&e()})}},r=window._global||{},a=r.share||{},s=function(e){e.fm="share",t.log(e)},l=function(e,t){window.Logger&&window.Logger.log({fm:"share",title:e.title,link:encodeURIComponent(e.link),from:t})},c=function(e,t){e.link=n.add(e.link,{sf:t})};o(function(){var e=window.WeixinJSBridge;e&&e.on&&(e.call(a.notShare?"hideOptionMenu":"showOptionMenu"),e.on("menu:share:timeline",function(){if(!a.notShare){window.doWhileShare&&window.doWhileShare();var t=window.getShareData();t.timeLineTitle&&(t.title=t.timeLineTitle);c(t,"wx_tl"),e.invoke("shareTimeline",t,function(e){window.__onShareTimeline&&window.__onShareTimeline(e)}),l(t,"timeline"),s({sf:"wx_tl"})}}),e.on("menu:share:appmessage",function(){if(!a.notShare){window.doWhileShare&&window.doWhileShare();var t=window.getShareData();c(t,"wx_sm"),e.invoke("sendAppMessage",t,function(){}),l(t,"appmessage"),s({sf:"wx_sm"})}}),e.on("menu:share:qq",function(){if(!a.notShare){var t=window.getShareData();c(t,"qq_sm"),e.invoke("shareQQ",t,function(){}),s({sf:"qq_sm"})}}),e.on("menu::share:qzone",function(){if(!a.notShare){var t="qq_zone",n=window.getShareData();c(n,t),e.invoke("shareQZone",n,function(){}),s({sf:t})}}))});var u={openAddress:function(e,t){window.WeixinJSBridge&&window.WeixinJSBridge.invoke("editAddress",i.address_token,function(n){"edit_address:ok"===(n.err_msg||n.errMsg)?e(n):t(n)})}};!function(){var e={};e.on=function(){},window.wx=e,window.wxReady=o,window.wxBridge=u}()}),window.Zepto&&function(e,t){function n(e){return e.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function i(e){return o?o+e:e.toLowerCase()}var o,r,a,s,l,c,u,d,f,m,g="",w={Webkit:"webkit",Moz:"",O:"o"},h=window.document,p=h.createElement("div"),v=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,x={};e.each(w,function(e,t){if(void 0!==p.style[e+"TransitionProperty"])return g="-"+e.toLowerCase()+"-",o=t,!1}),r=g+"transform",x[a=g+"transition-property"]=x[s=g+"transition-duration"]=x[c=g+"transition-delay"]=x[l=g+"transition-timing-function"]=x[u=g+"animation-name"]=x[d=g+"animation-duration"]=x[m=g+"animation-delay"]=x[f=g+"animation-timing-function"]="",e.fx={off:void 0===o&&void 0===p.style.transitionProperty,speeds:{_default:400,fast:200,slow:600},cssPrefix:g,transitionEnd:i("TransitionEnd"),animationEnd:i("AnimationEnd")},e.fn.animate=function(t,n,i,o,r){return e.isFunction(n)&&(o=n,i=void 0,n=void 0),e.isFunction(i)&&(o=i,i=void 0),e.isPlainObject(n)&&(i=n.easing,o=n.complete,r=n.delay,n=n.duration),n&&(n=("number"==typeof n?n:e.fx.speeds[n]||e.fx.speeds._default)/1e3),r&&(r=parseFloat(r)/1e3),this.anim(t,n,i,o,r)},e.fn.anim=function(t,i,o,g,w){var h,p,_,b={},j="",S=this,k=e.fx.transitionEnd,y=!1;if(void 0===i&&(i=e.fx.speeds._default/1e3),void 0===w&&(w=0),e.fx.off&&(i=0),"string"==typeof t)b[u]=t,b[d]=i+"s",b[m]=w+"s",b[f]=o||"linear",k=e.fx.animationEnd;else{p=[];for(h in t)v.test(h)?j+=h+"("+t[h]+") ":(b[h]=t[h],p.push(n(h)));j&&(b[r]=j,p.push(r)),i>0&&"object"==typeof t&&(b[a]=p.join(", "),b[s]=i+"s",b[c]=w+"s",b[l]=o||"linear")}return _=function(t){if(void 0!==t){if(t.target!==t.currentTarget)return;e(t.target).unbind(k,_)}else e(this).unbind(k,_);y=!0,e(this).css(x),g&&g.call(this)},i>0&&(this.bind(k,_),setTimeout(function(){y||_.call(S)},1e3*(i+w)+25)),this.size()&&this.get(0).clientLeft,this.css(b),i<=0&&setTimeout(function(){S.each(function(){_.call(this)})},0),this},p=null}(Zepto),define("vendor/zepto/fx",function(){}),require(["zenjs/util/cookie","bower_components/wap_common/base/wx","vendor/zepto/fx"],function(e){var t=window._global;!function(){function n(e){var t=0;$.map(e,function(e,n){"a"==e&&t++}),5==t?i(1,!0):4==t?i(2,!0):3==t||2==t?i(3,!0):i(4,!0)}function i(t,n){o(t,n);var i={1:"我有100%的幸福感，你呢？",2:"我有75%的幸福感，你呢？",3:"我只有50%的幸福感，你分我一点呗！",4:"只剩25%的幸福感了，求安慰......"},r={1:"我有爆棚的幸福感，一大波央视记者正在赶来",2:"不好意思，拖国民幸福指数的后腿了",3:"从小缺钙长大缺爱，谁来拯救我岌岌可危的幸福感",4:"能量槽已空，如果2017年还不逆袭，那么天台见！"};location.href=location.origin+location.pathname+location.search+"#result-"+t,window.__title=i[t],window.__desc=r[t],e("_worktestresult",{value:t,path:"/v2/guang/worktest",domain:"koudaitong.com",expires:10})}function o(e,t){var n={1:100,2:75,3:50,4:25},i=0-6*$(window).height(),o=n[e];$(".cover-music").hide(),$("#js-result-area").addClass("result-"+e),s(i,t),setTimeout(function(){r(o)},500)}function r(e){var t=0,n={100:15,75:20,50:30,25:60},i=setInterval(function(){t<e?$("#js-result-percent").text(++t):clearInterval(i)},n[e])}function a(e){location.href=location.origin+location.pathname+location.search+"#"+e}function s(e,t){void 0===t&&(t=!0),t?d.animate({"margin-top":e+"px"},500):d.css({"margin-top":e+"px"})}var l=e("_worktestresult"),c=t.is_mobile,u=c?"touchstart":"click",d=$(".content-wrapper"),f=location.hash;/#result/.test(f)?o(f[f.length-1],!1):l&&i(l,!1),function(){var e=($("body").width(),$("body").height());t.is_mobile||d.css({height:e,width:e/1.6})}(),$(".test-go").on(u,function(){a(1)}),$(".answer-button").on(u,function(e){var t=$(e.target),i=t.data("answer"),o=t.data("id"),r=window.answers||{};r[o]=i,window.answers=r,5==o?n(r):a(o+1),t.addClass("selected").siblings(".selected").removeClass("selected")}),$(".js-select-a").on(u,function(e){location.href="https://h5.koudaitong.com/v2/apps/wheel?alias=14tanxcbl"}),$(".js-select-b").on(u,function(e){location.href="https://job.youzan.com/intro?from=timeline&isappinstalled=0"}),$(".js-test-again").on(u,function(e){location.href=location.origin+location.pathname+location.search+"#",window.answers={},$(".answer-button").removeClass("selected"),$("#js-result-area").removeClass("result-1 result-2 result-3 result-4")}),$("#js-music").on(u,function(e){var t=$(e.target).parent(".cover-music"),n=document.getElementById("audio");t.is(".on")?(t.removeClass("on").addClass("off"),n.pause()):(t.removeClass("off").addClass("on"),n.play())}),window.onhashchange=function(e){var t,n,i=location.hash,o=/#(\d)/.exec(i);/#result/.test(i)||($(".cover-music").show(),o&&o[1]?(n=o[1],t=0-$(window).height()*n,s(t)):i||s(0,!1))}}()}),define("main",function(){});